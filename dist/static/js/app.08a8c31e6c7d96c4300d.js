webpackJsonp([9],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("IvJb");document.documentElement.style.fontSize=window.innerWidth/750*100+"px";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("C7Lr")({name:"App"},a,!1,function(t){n("Z/mL")},null,null).exports,r=n("zO6J");i.a.use(r.a);var s=new r.a({mode:"hash",routes:[{path:"/index",name:"index",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"42Hy"))}},{path:"/detail",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"wHgX"))}},{path:"/img",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"b0ui"))}},{path:"/color",component:function(){return n.e(7).then(n.bind(null,"3rbB"))}},{path:"/type",component:function(){return n.e(6).then(n.bind(null,"kMqs"))}},{path:"/quotation",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"5gQX"))}},{path:"/login",component:function(){return n.e(3).then(n.bind(null,"xJsL"))}},{path:"*",redirect:"/index"}]});s.beforeEach(function(t,e,n){window.localStorage.getItem("login")||"/login"==t.path||n("/login"),n()}),s.afterEach(function(t,e){});var c=s,u=n("9rMa"),l=n("3cXf"),d=n.n(l),f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};/\?/.test(t)?t+="&_="+ +new Date:t+="?_="+ +new Date;var i={method:e};return"POST"==e&&(i.body=d()(n)),fetch(t,i).then(function(t){return t.json()})},m=/localhost:8080/gi.test(window.location.host)?"http://baojia-test.chelun.com":"https://baojia.chelun.com",p=function(t){var e="";return t&&(e+="provinceid="+t),f(m+"/v1-city-alllist.html?"+e)},h={namespaced:!0,state:{letters:[],brand:{},flag:!1,letter:"",brandId:"",makeList:"",isShowList:!1},mutations:{listDate:function(t,e){var n=[],i={};e.forEach(function(t){var e=t.Spelling[0];-1!=n.indexOf(e)?i[e].push(t):(n.push(e),i[e]=[t])}),t.letters=n,t.brand=i},changeMakeList:function(t,e){t.brandId=e.id,t.makeList=e.list,t.isShowList=!0},showLetter:function(t,e){t.flag=e},changeLetter:function(t,e){t.letter=e},hideMakeList:function(t){t.isShowList=!1}},actions:{listDate:function(t,e){var n=t.commit;f(m+"/v2-car-getMasterBrandList.html").then(function(t){1==t.code?n("listDate",t.data):alert(t.msg)})},getMakeList:function(t,e){var n,i=t.commit,a=t.state;e!=a.brandId&&(n=e,f(m+"/v2-car-getMakeListByMasterBrandId.html?MasterID="+n)).then(function(t){i("changeMakeList",{id:e,list:t.data})})}}},g=n("IHPB"),v=n.n(g),w=n("zsLt"),_=n.n(w),y={namespaced:!0,state:{info:{},currentYear:"全部"},getters:{datas:function(t){if(t.info)return t.info},years:function(t){if(!t.info.list)return[];var e=t.info.list.map(function(t){return t.market_attribute.year}),n=new _.a(e);return["全部"].concat(v()(n))},list:function(t){if(!t.info.list)return[];function e(t){var e=[],n={};return t.forEach(function(t){var i=t.exhaust_str+"/"+t.max_power_str+" "+t.inhale_type;-1==e.indexOf(i)?(e.push(i),n[i]=[t]):n[i].push(t)}),n}return"全部"==t.currentYear?e(t.info.list):e(t.info.list.filter(function(e){return e.market_attribute.year==t.currentYear}))}},mutations:{changeYear:function(t,e){t.currentYear=e},updataInfo:function(t,e){t.info=e,e.list.sort(function(t,e){return e.market_attribute.year!=t.market_attribute.year?e.market_attribute.year-t.market_attribute.year:e.exhaust_str>t.exhaust_str?-1:e.exhaust_str<t.exhaust_str?1:e.max_power_str>t.max_power_str?-1:e.max_power_str<t.max_power_str?1:e.market_attribute.dealer_price_min>t.market_attribute.dealer_price_min?-1:1})}},actions:{getDetailList:function(t,e){var n,i=t.commit;(n=e,f(m+"/v2-car-getInfoAndListById.html?SerialID="+n)).then(function(t){i("updataInfo",t.data)})}}},b={namespaced:!0,state:{isLogin:!1},mutations:{logins:function(t,e){"cc"==e.username&&"123"==e.password&&(t.isLogin=!t.isLogin),console.log(t.isLogin)}}},L={namespaced:!0,state:{isShowCity:!1,isSendSMS:!1,timer:0,currentCity:"",city:{}},actions:{getCapture:function(t,e){var n,i=t.commit;(n=e,f("http://123.206.55.50:8080/getCapture","POST",{phone:n})).then(function(t){console.log(t),i("updateCapture",t)})}},mutations:{showCity:function(t,e){t.isShowCity=e},updateCity:function(t,e){t.city=e,t.isShowCity=!1},updateCapture:function(t,e){if(0==e.code){t.isSendSMS=!0,t.timer=60;var n=setInterval(function(){t.timer--,0==t.timer&&(clearInterval(n),t.isSendSMS=!1)},1e3)}else alert(e.msg)}}},S={namespaced:!0,state:{locationCity:"",provinces:[],cities:[],isShowCity:!1},mutations:{updateProvinces:function(t,e){t.provinces=e.data},updateCities:function(t,e){t.cities=e.data,t.isShowCity=!0},hideCity:function(t,e){t.isShowCity=!1}},actions:{getCityList:function(t,e){var n=t.commit;e?p(e).then(function(t){console.log(t),n("updateCities",t)}):p().then(function(t){n("updateProvinces",t)})}}},C={namespaced:!0,state:{list:[],page:1},mutations:{updateList:function(t,e){t.list=t.list.concat(e),t.page++}},actions:{getImgDetailList:function(t){var e=t.commit,n=t.state;console.log("state...",n),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments[3],a=arguments[4],o="SerialID="+t+"&ImageID="+e+"&Page="+n+"&PageSize="+(arguments.length>5&&void 0!==arguments[5]?arguments[5]:30);return i&&(o+="&ColorID="+i),a&&(o+="&CarID="+a),f(m+"/v2-car-getCategoryImageList.html?"+o)}(2593,6,n.page).then(function(t){console.log(t),e("updateList",t.data.List)})}}};i.a.use(u.b);var I=new u.a({modules:{app:h,detail:y,login:b,quotation:L,city:S,img:C}});window.store=I;var x=I;i.a.config.productionTip=!1,new i.a({el:"#app",router:c,store:x,components:{App:o},template:"<App/>"})},"Z/mL":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.08a8c31e6c7d96c4300d.js.map